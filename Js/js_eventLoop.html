<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>eventLoop</title>
</head>
<body>


    <script>
    
        // https://segmentfault.com/a/1190000012806637
        
        // event loop: 执行宏任务 --> 宏任务结束 --> 微任务event queue -->微任务结束 --> 宏任务 event loop --> 结束


        console.log(1); // 宏任务

        setTimeout(function(){ // 宏任务事件队列
            console.log(2);
        },0);

        console.log(3);     // 宏任务

        new Promise(function(resolve) { 
            console.log(4);  // new Promise 立即执行
            resolve();
        }).then(function() {
            console.log(5);    // 微任务队列
        })

        console.log('end');     // 宏任务

        // 结果：1,3,4,end,5,2
    
    </script>
    
</body>
</html>